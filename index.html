<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
</head>
<body>
  <input id="userInput" type="Text" placeholder="Unit number">
  <input id="userInput1" type="Text" placeholder="Unit name">
  <input id="userInput2" type="Text" placeholder="Contingent">
    <a id="downloadLink" style="display: none">Download</a>
  <button onclick="generateImage()">Generate</button>
  <canvas id="canvas1" width="2778" height="1284"></canvas>

  <script>
    function addTextToImage(text, text1, text2) {
      var circle_canvas = document.getElementById("canvas1");
      var context = circle_canvas.getContext("2d");

      // Draw Image function
      var img = new Image();
      img.src = "https://img.gadgethacks.com/img/original/44/48/63782346628837/0/637823466288374448.jpg";
      img.onload = function () {
        context.drawImage(img, 0, 0);
        context.lineWidth = 1;
        context.fillStyle = "#0CD2CAF";
        context.strokeStyle = "#0CD2CA";
        context.font = "100px sans-serif";
        context.fillText(text, 200, 500);
        context.fillText(text1, 200, 600);
        context.fillText(text2, 200, 700);
const canvas = document.getElementById('canvas1');
const dataUrl = canvas.toDataURL('image/png');

// Open the data URL in a new window or tab
const newWindow = window.open();
newWindow.document.write('<img src="' + dataUrl + '" alt="Canvas Image">');

// Optionally, focus the new window/tab
newWindow.focus();

      };
    }

    function generateImage() {
      let input = document.getElementById("userInput").value;
      let input01 = 'Unit ' + input;
      let input1 = document.getElementById("userInput1").value;
      let input2 = document.getElementById("userInput2").value;
      let input02 = input2 + ' Contingent';
      addTextToImage(input01, input1, input02);
    }
  </script>
</body>
</html>
