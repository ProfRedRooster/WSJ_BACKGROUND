<html>
<canvas id="canvas" width="2778" height="1284"></canvas>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

</head>
<body>

    <input id="userInput" type="Text" placeholder="Unit number">
    <input id="userInput1" type="Text" placeholder="Unit name">
    <input id="userInput2" type="Text" placeholder="Contigent">
    <button onclick="returnText()">Generate</button>
   <input type="button" id="downloadBtn" value="Download">

</body>

<script>
function addTextToImage(imagePath, text, text1, text2) {
    var circle_canvas = document.getElementById("canvas");
    var context = circle_canvas.getContext("2d");

    // Draw Image function
    var img = new Image();
    img.src = imagePath;
    img.onload = function () {
        context.drawImage(img, 0, 0);
        context.lineWidth = 1;
        context.fillStyle = "#CC00FF";
        context.lineStyle = "#ffff00";
        context.font = "100px sans-serif";
        context.fillText(text, 200, 500);
        context.fillText(text1, 200, 600);
        context.fillText(text2, 200, 700);
    };
}

function returnText(){
    let input = document.getElementById("userInput").value;
    let input01 = 'Unit '+input;
    let input1 = document.getElementById("userInput1").value;
    let input2 = document.getElementById("userInput2").value;
    let input02 = input2+' Contigent';
addTextToImage("https://img.gadgethacks.com/img/original/44/48/63782346628837/0/637823466288374448.jpg", input01, input1, input02);

}
function downloadImage() {

    // Grab the canvas element
    let canvas = document.getElementById("canvas");

    /* Create a PNG image of the pixels drawn on the canvas using the toDataURL method. PNG is the preferred format since it is supported by all browsers
    */
    var dataURL = canvas.toDataURL("image/png");

    // Create a dummy link text
    var a = document.createElement('a');
    // Set the link to the image so that when clicked, the image begins downloading
    a.href = dataURL
    // Specify the image filename
    a.download = 'canvas-download.jpeg';
    // Click on the link to set off download
    a.click();
}
let download = document.getElementById('downloadBtn')
download.addEventListener('click', downloadImage)
  </script>
</html>
